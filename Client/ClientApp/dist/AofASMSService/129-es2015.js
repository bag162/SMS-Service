(self.webpackChunkaofasmsservice=self.webpackChunkaofasmsservice||[]).push([[129],{7129:function(e,r,t){"use strict";t.r(r),t.d(r,{AutorizationModule:function(){return Z}});var n=t(8619),i=t(1151),o=t(3319);let s=(()=>{class e{constructor(){this.registerUri=window.location.origin+"/authorization/registration/newUserRegistration",this.loginUri=window.location.origin+"/authorization/login/loginUser"}registerNewUser(e){let r;return $.ajax({type:"POST",url:this.registerUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){r=e}),r}loginUser(e){let r;return $.ajax({type:"POST",url:this.loginUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){r=e}),r}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class a{}class l{}var d=t(1462),g=t(6333);let u=(()=>{class e{constructor(e,r,t){this.authService=e,this.userInfoService=r,this.router=t,this.userLogin=new a}loginUser(){let e=this.authService.loginUser(this.userLogin);e.success?$("#submitLoginButton").after(`<div class="alert alert-success py-1 my-1" id="alert-submit" role="alert">${e.message}</div>`):$("#submitLoginButton").after(`<div class="alert alert-danger py-1 my-1" id="alert-submit" role="alert">${e.message}</div>`),$("#alert-submit").delay(5e3).slideUp(300),e.success&&(this.userInfoService.authorized=!0,setTimeout(()=>{this.router.navigate(["controlpanel"])},3e3))}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(s),n.Y36(i.$C),n.Y36(o.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["login-form"]],decls:15,vars:7,consts:[["id","formLogin",1,"form-login-center","my-3"],[1,"form-group","pb-2"],["for","InputLogin",1,"required"],["type","text","name","login_login","aria-describedby","emailHelp","placeholder","Login","required","","pattern","([a-zA-Z0-9-]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["login_login","ngModel"],[1,"py-1","my-1",3,"hidden","message"],[1,"form-password"],["for","InputPassword",1,"required"],["type","password","name","password_login","placeholder","Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["password_login","ngModel"],[3,"hidden","message"],["type","submit","id","submitLoginButton",1,"btn","btn-primary","my-2",3,"disabled","click"]],template:function(e,r){if(1&e&&(n.TgZ(0,"form",0),n.TgZ(1,"div",1),n.TgZ(2,"label",2),n._uU(3,"Login"),n.qZA(),n.TgZ(4,"input",3,4),n.NdJ("ngModelChange",function(e){return r.userLogin.login=e}),n.qZA(),n._UZ(6,"alert-fail",5),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"label",7),n._uU(9,"Password"),n.qZA(),n.TgZ(10,"input",8,9),n.NdJ("ngModelChange",function(e){return r.userLogin.password=e}),n.qZA(),n._UZ(12,"alert-fail",10),n.qZA(),n.TgZ(13,"button",11),n.NdJ("click",function(){return r.loginUser()}),n._uU(14,"Login"),n.qZA(),n.qZA()),2&e){const e=n.MAs(5),t=n.MAs(11);n.xp6(4),n.Q6J("ngModel",r.userLogin.login),n.xp6(2),n.Q6J("hidden",e.valid||e.untouched)("message","Incorrect login. Minimum characters: 6"),n.xp6(4),n.Q6J("ngModel",r.userLogin.password),n.xp6(2),n.Q6J("hidden",t.valid||t.untouched)("message","Incorrect password"),n.xp6(1),n.Q6J("disabled",e.invalid||t.invalid)}},directives:[d._Y,d.JL,d.F,d.Fj,d.Q7,d.c5,d.JJ,d.On,g.c],styles:['label.required[_ngcontent-%COMP%]:after{color:red;content:" *"}']}),e})(),c=(()=>{class e{constructor(e,r,t){this.authService=e,this.router=r,this.userInfoService=t,this.userRegistration=new l}registerUser(){let e=this.authService.registerNewUser(this.userRegistration);e.success?$("#submitRegisterButton").after(`<div class="alert alert-success" id="alert-submit" role="alert">${e.message}</div>`):$("#submitRegisterButton").after(`<div class="alert alert-danger py-1 my-1" id="alert-submit">${e.message}</div>`),$("#alert-submit").delay(5e3).slideUp(300),e.success&&(this.userInfoService.authorized=!0,setTimeout(()=>{this.router.navigate(["controlpanel"])},3e3))}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(s),n.Y36(o.F0),n.Y36(i.$C))},e.\u0275cmp=n.Xpm({type:e,selectors:[["registration-form"]],features:[n._Bn([s])],decls:38,vars:17,consts:[["id","formRegistration",1,"form-registration-center","my-3"],[1,"form-group","pb-2"],["for","InputLogin",1,"required"],["type","text","name","login_register","aria-describedby","loginHelp","placeholder","Enter login","required","","pattern","([a-zA-Z0-9-]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["login_register","ngModel"],[3,"hidden","message"],["for","InputEmail",1,"required"],["type","email","name","email_register","aria-describedby","emailHelp","placeholder","Enter email","required","","pattern","^[a-zA-Z0-9.!#$%&\u2019*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",1,"form-control",3,"ngModel","ngModelChange"],["email_register","ngModel"],[1,"form-group"],["for","InputPassword",1,"required"],["type","password","name","password_register","placeholder","Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["password_register","ngModel"],["type","password","name","confirmPassword_register","placeholder","Repeat password","required","",1,"form-control","my-1",3,"ngModel","ngModelChange"],["confirmPassword_register","ngModel"],[1,"form-group","pt-1"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","inlineFormInputGroup","placeholder","Enter your telegram Login",1,"form-control",3,"ngModel","ngModelChange"],["for","InputName"],["type","text","name","name_register","aria-describedby","nameHelp","placeholder","Enter your Name",1,"form-control",3,"ngModel","ngModelChange"],["name_register","ngModel"],["type","submit","id","submitRegisterButton",1,"btn","btn-primary","my-2",3,"disabled","click"]],template:function(e,r){if(1&e&&(n.TgZ(0,"form",0),n.TgZ(1,"div",1),n.TgZ(2,"label",2),n._uU(3,"Login"),n.qZA(),n.TgZ(4,"input",3,4),n.NdJ("ngModelChange",function(e){return r.userRegistration.login=e}),n.qZA(),n._UZ(6,"alert-fail",5),n.qZA(),n.TgZ(7,"div",1),n.TgZ(8,"label",6),n._uU(9,"Email address"),n.qZA(),n.TgZ(10,"input",7,8),n.NdJ("ngModelChange",function(e){return r.userRegistration.email=e}),n.qZA(),n._UZ(12,"alert-fail",5),n.qZA(),n.TgZ(13,"div",9),n.TgZ(14,"label",10),n._uU(15,"Password"),n.qZA(),n.TgZ(16,"input",11,12),n.NdJ("ngModelChange",function(e){return r.userRegistration.password=e}),n.qZA(),n._UZ(18,"alert-fail",5),n.TgZ(19,"input",13,14),n.NdJ("ngModelChange",function(e){return r.confirmPassword=e}),n.qZA(),n._UZ(21,"alert-fail",5),n._UZ(22,"alert-fail",5),n.qZA(),n.TgZ(23,"div",15),n.TgZ(24,"label"),n._uU(25,"Telegram"),n.qZA(),n.TgZ(26,"div",16),n.TgZ(27,"div",17),n.TgZ(28,"div",18),n._uU(29,"@"),n.qZA(),n.qZA(),n.TgZ(30,"input",19),n.NdJ("ngModelChange",function(e){return r.userRegistration.telegram=e}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",1),n.TgZ(32,"label",20),n._uU(33,"Name"),n.qZA(),n.TgZ(34,"input",21,22),n.NdJ("ngModelChange",function(e){return r.userRegistration.name=e}),n.qZA(),n.qZA(),n.TgZ(36,"button",23),n.NdJ("click",function(){return r.registerUser()}),n._uU(37,"Registration"),n.qZA(),n.qZA()),2&e){const e=n.MAs(5),t=n.MAs(11),i=n.MAs(17),o=n.MAs(20);n.xp6(4),n.Q6J("ngModel",r.userRegistration.login),n.xp6(2),n.Q6J("hidden",e.valid||e.untouched)("message","Incorrect login. Minimum characters: 6"),n.xp6(4),n.Q6J("ngModel",r.userRegistration.email),n.xp6(2),n.Q6J("hidden",t.valid||t.empty||t.untouched)("message","Incorrect email"),n.xp6(4),n.Q6J("ngModel",r.userRegistration.password),n.xp6(2),n.Q6J("hidden",i.valid||i.untouched)("message","Incorrect password"),n.xp6(1),n.Q6J("ngModel",r.confirmPassword),n.xp6(2),n.Q6J("hidden",o.value==i.value||o.untouched)("message","Password mismatch"),n.xp6(1),n.Q6J("hidden",null!=o.value||o.untouched)("message","Password repeat required"),n.xp6(8),n.Q6J("ngModel",r.userRegistration.telegram),n.xp6(4),n.Q6J("ngModel",r.userRegistration.name),n.xp6(2),n.Q6J("disabled",t.invalid||i.invalid||i.value!=o.value||o.empty)}},directives:[d._Y,d.JL,d.F,d.Fj,d.Q7,d.c5,d.JJ,d.On,g.c],styles:['label.required[_ngcontent-%COMP%]:after{color:red;content:" *"}']}),e})(),p=(()=>{class e{constructor(e,r){this.userInfoService=e,this.router=r,e.authorized&&r.navigate(["controlpanel"])}changeHideOnLogin(){$("#registrationForm").attr("hidden",!0),$("#loginForm").attr("hidden",!1)}changeHideOnRegistration(){$("#loginForm").attr("hidden",!0),$("#registrationForm").attr("hidden",!1)}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(i.$C),n.Y36(o.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["login-page"]],decls:8,vars:0,consts:[[1,"form-autorization"],["role","group","aria-label","Basic ","id","select-type",1,"btn-group"],["type","button",1,"btn","btn-dark",3,"click"],["id","loginForm"],["id","registrationForm","hidden",""]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"button",2),n.NdJ("click",function(){return r.changeHideOnLogin()}),n._uU(3,"login"),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",function(){return r.changeHideOnRegistration()}),n._uU(5,"Registration"),n.qZA(),n.qZA(),n._UZ(6,"login-form",3),n._UZ(7,"registration-form",4),n.qZA())},directives:[u,c],styles:[".form-autorization[_ngcontent-%COMP%]{width:500px;height:500px;position:absolute;top:50%;left:50%;margin:-250px 0 0 -250px;visibility:visible}#select-type[_ngcontent-%COMP%]{width:500px}"]}),e})();var m=t(1385),f=t(891);const h=[{path:"",component:p}];let Z=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[s,m.l],imports:[[d.u5,o.Bz.forChild(h),f.q]]}),e})()}}]);