!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(self.webpackChunkaofasmsservice=self.webpackChunkaofasmsservice||[]).push([[129],{7129:function(n,r,i){"use strict";i.r(r),i.d(r,{AutorizationModule:function(){return b}});var o,a=i(8619),s=i(1151),l=i(3319),u=function(){var n=function(){function n(){e(this,n),this.registerUri=window.location.origin+"/authorization/registration/newUserRegistration",this.loginUri=window.location.origin+"/authorization/login/loginUser"}return t(n,[{key:"registerNewUser",value:function(e){var n;return $.ajax({type:"POST",url:this.registerUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){n=e}),n}},{key:"loginUser",value:function(e){var n;return $.ajax({type:"POST",url:this.loginUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){n=e}),n}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n}(),d=function n(){e(this,n)},g=function n(){e(this,n)},c=i(1462),p=i(6333),m=function(){var n=function(){function n(t,r,i){e(this,n),this.authService=t,this.userInfoService=r,this.router=i,this.userLogin=new d}return t(n,[{key:"loginUser",value:function(){var e=this,n=this.authService.loginUser(this.userLogin);n.success?$("#submitLoginButton").after('<div class="alert alert-success py-1 my-1" id="alert-submit" role="alert">'.concat(n.message,"</div>")):$("#submitLoginButton").after('<div class="alert alert-danger py-1 my-1" id="alert-submit" role="alert">'.concat(n.message,"</div>")),$("#alert-submit").delay(5e3).slideUp(300),n.success&&(this.userInfoService.authorized=!0,setTimeout(function(){e.router.navigate(["controlpanel"])},3e3))}}]),n}();return n.\u0275fac=function(e){return new(e||n)(a.Y36(u),a.Y36(s.$C),a.Y36(l.F0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["login-form"]],decls:15,vars:7,consts:[["id","formLogin",1,"form-login-center","my-3"],[1,"form-group","pb-2"],["for","InputLogin",1,"required"],["type","text","name","login_login","aria-describedby","emailHelp","placeholder","Login","required","","pattern","([a-zA-Z0-9-]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["login_login","ngModel"],[1,"py-1","my-1",3,"hidden","message"],[1,"form-password"],["for","InputPassword",1,"required"],["type","password","name","password_login","placeholder","Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["password_login","ngModel"],[3,"hidden","message"],["type","submit","id","submitLoginButton",1,"btn","btn-primary","my-2",3,"disabled","click"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div",1),a.TgZ(2,"label",2),a._uU(3,"Login"),a.qZA(),a.TgZ(4,"input",3,4),a.NdJ("ngModelChange",function(e){return n.userLogin.login=e}),a.qZA(),a._UZ(6,"alert-fail",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"label",7),a._uU(9,"Password"),a.qZA(),a.TgZ(10,"input",8,9),a.NdJ("ngModelChange",function(e){return n.userLogin.password=e}),a.qZA(),a._UZ(12,"alert-fail",10),a.qZA(),a.TgZ(13,"button",11),a.NdJ("click",function(){return n.loginUser()}),a._uU(14,"Login"),a.qZA(),a.qZA()),2&e){var t=a.MAs(5),r=a.MAs(11);a.xp6(4),a.Q6J("ngModel",n.userLogin.login),a.xp6(2),a.Q6J("hidden",t.valid||t.untouched)("message","Incorrect login. Minimum characters: 6"),a.xp6(4),a.Q6J("ngModel",n.userLogin.password),a.xp6(2),a.Q6J("hidden",r.valid||r.untouched)("message","Incorrect password"),a.xp6(1),a.Q6J("disabled",t.invalid||r.invalid)}},directives:[c._Y,c.JL,c.F,c.Fj,c.Q7,c.c5,c.JJ,c.On,p.c],styles:['label.required[_ngcontent-%COMP%]:after{color:red;content:" *"}']}),n}(),f=function(){var n=function(){function n(t,r,i){e(this,n),this.authService=t,this.router=r,this.userInfoService=i,this.userRegistration=new g}return t(n,[{key:"registerUser",value:function(){var e=this,n=this.authService.registerNewUser(this.userRegistration);n.success?$("#submitRegisterButton").after('<div class="alert alert-success" id="alert-submit" role="alert">'.concat(n.message,"</div>")):$("#submitRegisterButton").after('<div class="alert alert-danger py-1 my-1" id="alert-submit">'.concat(n.message,"</div>")),$("#alert-submit").delay(5e3).slideUp(300),n.success&&(this.userInfoService.authorized=!0,setTimeout(function(){e.router.navigate(["controlpanel"])},3e3))}}]),n}();return n.\u0275fac=function(e){return new(e||n)(a.Y36(u),a.Y36(l.F0),a.Y36(s.$C))},n.\u0275cmp=a.Xpm({type:n,selectors:[["registration-form"]],features:[a._Bn([u])],decls:38,vars:17,consts:[["id","formRegistration",1,"form-registration-center","my-3"],[1,"form-group","pb-2"],["for","InputLogin",1,"required"],["type","text","name","login_register","aria-describedby","loginHelp","placeholder","Enter login","required","","pattern","([a-zA-Z0-9-]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["login_register","ngModel"],[3,"hidden","message"],["for","InputEmail",1,"required"],["type","email","name","email_register","aria-describedby","emailHelp","placeholder","Enter email","required","","pattern","^[a-zA-Z0-9.!#$%&\u2019*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",1,"form-control",3,"ngModel","ngModelChange"],["email_register","ngModel"],[1,"form-group"],["for","InputPassword",1,"required"],["type","password","name","password_register","placeholder","Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control",3,"ngModel","ngModelChange"],["password_register","ngModel"],["type","password","name","confirmPassword_register","placeholder","Repeat password","required","",1,"form-control","my-1",3,"ngModel","ngModelChange"],["confirmPassword_register","ngModel"],[1,"form-group","pt-1"],[1,"input-group","mb-2"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","inlineFormInputGroup","placeholder","Enter your telegram Login",1,"form-control",3,"ngModel","ngModelChange"],["for","InputName"],["type","text","name","name_register","aria-describedby","nameHelp","placeholder","Enter your Name",1,"form-control",3,"ngModel","ngModelChange"],["name_register","ngModel"],["type","submit","id","submitRegisterButton",1,"btn","btn-primary","my-2",3,"disabled","click"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div",1),a.TgZ(2,"label",2),a._uU(3,"Login"),a.qZA(),a.TgZ(4,"input",3,4),a.NdJ("ngModelChange",function(e){return n.userRegistration.login=e}),a.qZA(),a._UZ(6,"alert-fail",5),a.qZA(),a.TgZ(7,"div",1),a.TgZ(8,"label",6),a._uU(9,"Email address"),a.qZA(),a.TgZ(10,"input",7,8),a.NdJ("ngModelChange",function(e){return n.userRegistration.email=e}),a.qZA(),a._UZ(12,"alert-fail",5),a.qZA(),a.TgZ(13,"div",9),a.TgZ(14,"label",10),a._uU(15,"Password"),a.qZA(),a.TgZ(16,"input",11,12),a.NdJ("ngModelChange",function(e){return n.userRegistration.password=e}),a.qZA(),a._UZ(18,"alert-fail",5),a.TgZ(19,"input",13,14),a.NdJ("ngModelChange",function(e){return n.confirmPassword=e}),a.qZA(),a._UZ(21,"alert-fail",5),a._UZ(22,"alert-fail",5),a.qZA(),a.TgZ(23,"div",15),a.TgZ(24,"label"),a._uU(25,"Telegram"),a.qZA(),a.TgZ(26,"div",16),a.TgZ(27,"div",17),a.TgZ(28,"div",18),a._uU(29,"@"),a.qZA(),a.qZA(),a.TgZ(30,"input",19),a.NdJ("ngModelChange",function(e){return n.userRegistration.telegram=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(31,"div",1),a.TgZ(32,"label",20),a._uU(33,"Name"),a.qZA(),a.TgZ(34,"input",21,22),a.NdJ("ngModelChange",function(e){return n.userRegistration.name=e}),a.qZA(),a.qZA(),a.TgZ(36,"button",23),a.NdJ("click",function(){return n.registerUser()}),a._uU(37,"Registration"),a.qZA(),a.qZA()),2&e){var t=a.MAs(5),r=a.MAs(11),i=a.MAs(17),o=a.MAs(20);a.xp6(4),a.Q6J("ngModel",n.userRegistration.login),a.xp6(2),a.Q6J("hidden",t.valid||t.untouched)("message","Incorrect login. Minimum characters: 6"),a.xp6(4),a.Q6J("ngModel",n.userRegistration.email),a.xp6(2),a.Q6J("hidden",r.valid||r.empty||r.untouched)("message","Incorrect email"),a.xp6(4),a.Q6J("ngModel",n.userRegistration.password),a.xp6(2),a.Q6J("hidden",i.valid||i.untouched)("message","Incorrect password"),a.xp6(1),a.Q6J("ngModel",n.confirmPassword),a.xp6(2),a.Q6J("hidden",o.value==i.value||o.untouched)("message","Password mismatch"),a.xp6(1),a.Q6J("hidden",null!=o.value||o.untouched)("message","Password repeat required"),a.xp6(8),a.Q6J("ngModel",n.userRegistration.telegram),a.xp6(4),a.Q6J("ngModel",n.userRegistration.name),a.xp6(2),a.Q6J("disabled",r.invalid||i.invalid||i.value!=o.value||o.empty)}},directives:[c._Y,c.JL,c.F,c.Fj,c.Q7,c.c5,c.JJ,c.On,p.c],styles:['label.required[_ngcontent-%COMP%]:after{color:red;content:" *"}']}),n}(),h=function(){var n=function(){function n(t,r){e(this,n),this.userInfoService=t,this.router=r,t.authorized&&r.navigate(["controlpanel"])}return t(n,[{key:"changeHideOnLogin",value:function(){$("#registrationForm").attr("hidden",!0),$("#loginForm").attr("hidden",!1)}},{key:"changeHideOnRegistration",value:function(){$("#loginForm").attr("hidden",!0),$("#registrationForm").attr("hidden",!1)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(a.Y36(s.$C),a.Y36(l.F0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["login-page"]],decls:8,vars:0,consts:[[1,"form-autorization"],["role","group","aria-label","Basic ","id","select-type",1,"btn-group"],["type","button",1,"btn","btn-dark",3,"click"],["id","loginForm"],["id","registrationForm","hidden",""]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return n.changeHideOnLogin()}),a._uU(3,"login"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return n.changeHideOnRegistration()}),a._uU(5,"Registration"),a.qZA(),a.qZA(),a._UZ(6,"login-form",3),a._UZ(7,"registration-form",4),a.qZA())},directives:[m,f],styles:[".form-autorization[_ngcontent-%COMP%]{width:500px;height:500px;position:absolute;top:50%;left:50%;margin:-250px 0 0 -250px;visibility:visible}#select-type[_ngcontent-%COMP%]{width:500px}"]}),n}(),Z=i(1385),v=i(891),y=[{path:"",component:h}],b=((o=function n(){e(this,n)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.oAB({type:o}),o.\u0275inj=a.cJS({providers:[u,Z.l],imports:[[c.u5,l.Bz.forChild(y),v.q]]}),o)}}])}();