(self.webpackChunkaofasmsservice=self.webpackChunkaofasmsservice||[]).push([[973],{6973:function(e,r,t){"use strict";t.r(r),t.d(r,{SettingsModule:function(){return f}});var s=t(1462),n=t(3319),a=t(8619);let o=(()=>{class e{constructor(){this.changePasswordUri="/settings/setting/ChangePassword",this.updateUserInfoUri="/settings/setting/UpdateUserInfo"}changePassword(e,r){let t;return $.ajax({type:"POST",url:this.changePasswordUri,data:JSON.stringify({oldpassword:e,newpassword:r}),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){t=e}),t}updateUserInfo(e){let r;return $.ajax({type:"POST",url:this.updateUserInfoUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){r=e}),r}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})(),d=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();var i=t(891);let l=(()=>{class e{constructor(e){this.router=e,this.link="controlpanel"}redirect(){this.router.navigate([this.link])}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(n.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["goback-button"]],inputs:{link:"link"},decls:2,vars:0,consts:[[1,"btn","btn-dark","btn-lg",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return r.redirect()}),a._uU(1," Go back\n"),a.qZA())},encapsulation:2}),e})();var c=t(1151),p=t(6333);let u=(()=>{class e{constructor(e,r,t){this.settingsService=e,this.updatedUserInfo=r,this.userInfo=t}ngOnInit(){this.updatedUserInfo.EmailAddress=this.userInfo.emailAddress,this.updatedUserInfo.Telegram=this.userInfo.telegram,this.updatedUserInfo.Username=this.userInfo.username}updateUserInfo(){var e=this.settingsService.updateUserInfo(this.updatedUserInfo);e.success?$("#propertyServerAlerts").append(`<div class="alert alert-success mt-1 py-1" id="alertServer" role="alert">${e.message}</div>`):$("#propertyServerAlerts").append(`<div class="alert alert-danger mt-1 py-1" id="alertServer" role="alert">${e.message}</div>`),$("#alertServer").delay(5e3).slideUp(300)}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(o),a.Y36(d),a.Y36(c.$C))},e.\u0275cmp=a.Xpm({type:e,selectors:[["updateProperties-form"]],decls:19,vars:5,consts:[["action","properties"],[1,"mb-2"],["for","inputEmail4"],["type","email","id","inputEmail4","placeholder","Email","name","EmailAddress","required","","pattern","^[a-zA-Z0-9.!#$%&\u2019*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",1,"form-control",3,"ngModel","ngModelChange"],["updatedEmail","ngModel"],[3,"hidden","message"],["for","telegram"],["type","text","placeholder","Telegram login","name","Telegram",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["type","text","placeholder","Name","name","Username",1,"form-control",3,"ngModel","ngModelChange"],["updatedUsername","ngModel"],["type","button center",1,"btn","btn-primary","mt-2","mb-1",3,"click"],["id","propertyServerAlerts"]],template:function(e,r){if(1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div",1),a.TgZ(2,"label",2),a._uU(3,"Email Address"),a.qZA(),a.TgZ(4,"input",3,4),a.NdJ("ngModelChange",function(e){return r.updatedUserInfo.EmailAddress=e}),a.qZA(),a._UZ(6,"alert-fail",5),a.qZA(),a.TgZ(7,"div",1),a.TgZ(8,"label",6),a._uU(9,"Telegram"),a.qZA(),a.TgZ(10,"input",7),a.NdJ("ngModelChange",function(e){return r.updatedUserInfo.Telegram=e}),a.qZA(),a.qZA(),a.TgZ(11,"div",1),a.TgZ(12,"label",8),a._uU(13,"Name"),a.qZA(),a.TgZ(14,"input",9,10),a.NdJ("ngModelChange",function(e){return r.updatedUserInfo.Username=e}),a.qZA(),a.qZA(),a.TgZ(16,"button",11),a.NdJ("click",function(){return r.updateUserInfo()}),a._uU(17,"Save"),a.qZA(),a._UZ(18,"div",12),a.qZA()),2&e){const e=a.MAs(5);a.xp6(4),a.Q6J("ngModel",r.updatedUserInfo.EmailAddress),a.xp6(2),a.Q6J("hidden",e.valid||e.empty||e.untouched)("message","Incorrect email"),a.xp6(4),a.Q6J("ngModel",r.updatedUserInfo.Telegram),a.xp6(4),a.Q6J("ngModel",r.updatedUserInfo.Username)}},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,s.c5,s.JJ,s.On,p.c],encapsulation:2}),e})(),g=(()=>{class e{constructor(e){this.settingsService=e}changePassword(){var e=this.settingsService.changePassword(this.oldPassword,this.newPassword);e.success?$("#alertMessages").append(`<div class="alert alert-success mt-1 py-1" id="alertServer" role="alert">${e.message}</div>`):$("#alertMessages").append(`<div class="alert alert-danger mt-1 py-1" id="alertServer" role="alert">${e.message}</div>`),$("#alertServer").delay(5e3).slideUp(300)}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(o))},e.\u0275cmp=a.Xpm({type:e,selectors:[["changePassword-form"]],decls:19,vars:9,consts:[["action","password"],["for","oldPassword"],["type","password","placeholder","Your old  Password",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["oldPasswordForm","ngModel"],["for","password"],["type","password","placeholder","New Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control","mb-1",3,"ngModel","ngModelChange"],["newPasswordForm","ngModel"],["type","password","placeholder","Repeat new Password",1,"form-control",3,"ngModel","ngModelChange"],["repeatPasswordForm","ngModel"],[1,"alerts"],["id","alertIncorrect",3,"hidden","message"],["id","alertMuthed",3,"hidden","message"],["id","changePasswordBtn",1,"btn","btn-primary","mt-4",3,"click"],["id","alertMessages",1,"mt-3"]],template:function(e,r){if(1&e&&(a.TgZ(0,"form",0),a.TgZ(1,"div"),a.TgZ(2,"label",1),a._uU(3,"Old Password"),a.qZA(),a.TgZ(4,"input",2,3),a.NdJ("ngModelChange",function(e){return r.oldPassword=e}),a.qZA(),a.TgZ(6,"label",4),a._uU(7,"Password"),a.qZA(),a.TgZ(8,"input",5,6),a.NdJ("ngModelChange",function(e){return r.newPassword=e}),a.qZA(),a.TgZ(10,"input",7,8),a.NdJ("ngModelChange",function(e){return r.repeatPassword=e}),a.qZA(),a.qZA(),a.TgZ(12,"div",9),a._UZ(13,"alert-fail",10),a._UZ(14,"alert-fail",11),a._UZ(15,"alert-fail",11),a.qZA(),a.TgZ(16,"button",12),a.NdJ("click",function(){return r.changePassword()}),a._uU(17,"Change password"),a.qZA(),a._UZ(18,"div",13),a.qZA()),2&e){const e=a.MAs(5),t=a.MAs(9);a.xp6(4),a.Q6J("ngModel",r.oldPassword),a.xp6(4),a.Q6J("ngModel",r.newPassword),a.xp6(2),a.Q6J("ngModel",r.repeatPassword),a.xp6(3),a.Q6J("hidden",t.valid||t.untouched)("message","New password Incorrect"),a.xp6(1),a.Q6J("hidden",r.newPassword==r.repeatPassword)("message","Passwords must match"),a.xp6(1),a.Q6J("hidden",r.newPassword!=e||e.untouched)("message","The new password is the same as the old one")}},directives:[s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,s.Q7,s.c5,p.c],encapsulation:2}),e})();const m=[{path:"",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["settings-page"]],features:[a._Bn([o,d])],decls:17,vars:0,consts:[[1,"mx-3","mt-2"],[1,"text-center","mt-5"],[1,"container","mt-5"],[1,"row","justify-content-around"],[1,"border","rounded","col-md-4"],[1,"text-center"],[1,"changePassword"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"goback-button"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"h2"),a._uU(4," Settings "),a.qZA(),a.qZA(),a.TgZ(5,"div",2),a.TgZ(6,"div",3),a.TgZ(7,"span",4),a.TgZ(8,"div",5),a.TgZ(9,"h3"),a._uU(10,"Account"),a.qZA(),a.qZA(),a._UZ(11,"updateProperties-form"),a.qZA(),a.TgZ(12,"span",4),a.TgZ(13,"div",5),a.TgZ(14,"h3"),a._uU(15,"Change password"),a.qZA(),a.qZA(),a._UZ(16,"changePassword-form",6),a.qZA(),a.qZA(),a.qZA())},directives:[l,u,g],encapsulation:2}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[o],imports:[[s.u5,n.Bz.forChild(m),i.q]]}),e})()}}]);