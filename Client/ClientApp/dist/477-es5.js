!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(self.webpackChunkaofasmsservice=self.webpackChunkaofasmsservice||[]).push([[477],{1204:function(n,r,a){"use strict";a.r(r),a.d(r,{SettingsModule:function(){return U}});var s,o,i=a(1462),d=a(3319),c=a(8619),u=function(){var n=function(){function n(){e(this,n),this.changePasswordUri="/settings/setting/ChangePassword",this.updateUserInfoUri="/settings/setting/UpdateUserInfo"}return t(n,[{key:"changePassword",value:function(e,n){var t;return $.ajax({type:"POST",url:this.changePasswordUri,data:JSON.stringify({oldpassword:e,newpassword:n}),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){t=e}),t}},{key:"updateUserInfo",value:function(e){var n;return $.ajax({type:"POST",url:this.updateUserInfoUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){n=e}),n}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n}(),l=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n}(),p=a(891),f=function(){var n=function(){function n(){e(this,n),this.changePasswordUri="/settings/setting/ChangePassword",this.updateUserInfoUri="/settings/setting/UpdateUserInfo"}return t(n,[{key:"changePassword",value:function(e,n){var t;return $.ajax({type:"POST",url:this.changePasswordUri,data:JSON.stringify({oldpassword:e,newpassword:n}),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){t=e}),t}},{key:"updateUserInfo",value:function(e){var n;return $.ajax({type:"POST",url:this.updateUserInfoUri,data:JSON.stringify(e),dataType:"json",async:!1,contentType:"application/json; charset=utf-8"}).done(function(e){n=e}),n}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n}(),g=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n}(),h=function(){var n=function(){function n(t){e(this,n),this.router=t,this.link="controlpanel"}return t(n,[{key:"redirect",value:function(){this.router.navigate([this.link])}}]),n}();return n.\u0275fac=function(e){return new(e||n)(c.Y36(d.F0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["goback-button"]],inputs:{link:"link"},decls:2,vars:0,consts:[[1,"btn","btn-dark","btn-lg",3,"click"]],template:function(e,n){1&e&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return n.redirect()}),c._uU(1," Go back\n"),c.qZA())},encapsulation:2}),n}(),m=a(1151),v=a(6333),w=function(){var n=function(){function n(t,r,a){e(this,n),this.settingsService=t,this.updatedUserInfo=r,this.userInfo=a}return t(n,[{key:"ngOnInit",value:function(){this.updatedUserInfo.EmailAddress=this.userInfo.emailAddress,this.updatedUserInfo.Telegram=this.userInfo.telegram,this.updatedUserInfo.Username=this.userInfo.username}},{key:"updateUserInfo",value:function(){var e=this.settingsService.updateUserInfo(this.updatedUserInfo);e.success?$("#propertyServerAlerts").append('<div class="alert alert-success mt-1 py-1" id="alertServer" role="alert">'.concat(e.message,"</div>")):$("#propertyServerAlerts").append('<div class="alert alert-danger mt-1 py-1" id="alertServer" role="alert">'.concat(e.message,"</div>")),$("#alertServer").delay(5e3).slideUp(300)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(c.Y36(u),c.Y36(l),c.Y36(m.$C))},n.\u0275cmp=c.Xpm({type:n,selectors:[["updateProperties-form"]],decls:19,vars:5,consts:[["action","properties"],[1,"mb-2"],["for","inputEmail4"],["type","email","id","inputEmail4","placeholder","Email","name","EmailAddress","required","","pattern","^[a-zA-Z0-9.!#$%&\u2019*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$",1,"form-control",3,"ngModel","ngModelChange"],["updatedEmail","ngModel"],[3,"hidden","message"],["for","telegram"],["type","text","placeholder","Telegram login","name","Telegram",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["type","text","placeholder","Name","name","Username",1,"form-control",3,"ngModel","ngModelChange"],["updatedUsername","ngModel"],["type","button center",1,"btn","btn-primary","mt-2","mb-1",3,"click"],["id","propertyServerAlerts"]],template:function(e,n){if(1&e&&(c.TgZ(0,"form",0),c.TgZ(1,"div",1),c.TgZ(2,"label",2),c._uU(3,"Email Address"),c.qZA(),c.TgZ(4,"input",3,4),c.NdJ("ngModelChange",function(e){return n.updatedUserInfo.EmailAddress=e}),c.qZA(),c._UZ(6,"alert-fail",5),c.qZA(),c.TgZ(7,"div",1),c.TgZ(8,"label",6),c._uU(9,"Telegram"),c.qZA(),c.TgZ(10,"input",7),c.NdJ("ngModelChange",function(e){return n.updatedUserInfo.Telegram=e}),c.qZA(),c.qZA(),c.TgZ(11,"div",1),c.TgZ(12,"label",8),c._uU(13,"Name"),c.qZA(),c.TgZ(14,"input",9,10),c.NdJ("ngModelChange",function(e){return n.updatedUserInfo.Username=e}),c.qZA(),c.qZA(),c.TgZ(16,"button",11),c.NdJ("click",function(){return n.updateUserInfo()}),c._uU(17,"Save"),c.qZA(),c._UZ(18,"div",12),c.qZA()),2&e){var t=c.MAs(5);c.xp6(4),c.Q6J("ngModel",n.updatedUserInfo.EmailAddress),c.xp6(2),c.Q6J("hidden",t.valid||t.empty||t.untouched)("message","Incorrect email"),c.xp6(4),c.Q6J("ngModel",n.updatedUserInfo.Telegram),c.xp6(4),c.Q6J("ngModel",n.updatedUserInfo.Username)}},directives:[i._Y,i.JL,i.F,i.Fj,i.Q7,i.c5,i.JJ,i.On,v.c],encapsulation:2}),n}(),Z=function(){var n=function(){function n(t){e(this,n),this.settingsService=t}return t(n,[{key:"changePassword",value:function(){var e=this.settingsService.changePassword(this.oldPassword,this.newPassword);e.success?$("#alertMessages").append('<div class="alert alert-success mt-1 py-1" id="alertServer" role="alert">'.concat(e.message,"</div>")):$("#alertMessages").append('<div class="alert alert-danger mt-1 py-1" id="alertServer" role="alert">'.concat(e.message,"</div>")),$("#alertServer").delay(5e3).slideUp(300)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(c.Y36(u))},n.\u0275cmp=c.Xpm({type:n,selectors:[["changePassword-form"]],decls:19,vars:9,consts:[["action","password"],["for","oldPassword"],["type","password","placeholder","Your old  Password",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["oldPasswordForm","ngModel"],["for","password"],["type","password","placeholder","New Password","required","","pattern","([\\s\\S]{6,100})",1,"form-control","mb-1",3,"ngModel","ngModelChange"],["newPasswordForm","ngModel"],["type","password","placeholder","Repeat new Password",1,"form-control",3,"ngModel","ngModelChange"],["repeatPasswordForm","ngModel"],[1,"alerts"],["id","alertIncorrect",3,"hidden","message"],["id","alertMuthed",3,"hidden","message"],["id","changePasswordBtn",1,"btn","btn-primary","mt-4",3,"click"],["id","alertMessages",1,"mt-3"]],template:function(e,n){if(1&e&&(c.TgZ(0,"form",0),c.TgZ(1,"div"),c.TgZ(2,"label",1),c._uU(3,"Old Password"),c.qZA(),c.TgZ(4,"input",2,3),c.NdJ("ngModelChange",function(e){return n.oldPassword=e}),c.qZA(),c.TgZ(6,"label",4),c._uU(7,"Password"),c.qZA(),c.TgZ(8,"input",5,6),c.NdJ("ngModelChange",function(e){return n.newPassword=e}),c.qZA(),c.TgZ(10,"input",7,8),c.NdJ("ngModelChange",function(e){return n.repeatPassword=e}),c.qZA(),c.qZA(),c.TgZ(12,"div",9),c._UZ(13,"alert-fail",10),c._UZ(14,"alert-fail",11),c._UZ(15,"alert-fail",11),c.qZA(),c.TgZ(16,"button",12),c.NdJ("click",function(){return n.changePassword()}),c._uU(17,"Change password"),c.qZA(),c._UZ(18,"div",13),c.qZA()),2&e){var t=c.MAs(5),r=c.MAs(9);c.xp6(4),c.Q6J("ngModel",n.oldPassword),c.xp6(4),c.Q6J("ngModel",n.newPassword),c.xp6(2),c.Q6J("ngModel",n.repeatPassword),c.xp6(3),c.Q6J("hidden",r.valid||r.untouched)("message","New password Incorrect"),c.xp6(1),c.Q6J("hidden",n.newPassword==n.repeatPassword)("message","Passwords must match"),c.xp6(1),c.Q6J("hidden",n.newPassword!=t||t.untouched)("message","The new password is the same as the old one")}},directives:[i._Y,i.JL,i.F,i.Fj,i.JJ,i.On,i.Q7,i.c5,v.c],encapsulation:2}),n}(),y=[{path:"",component:(s=function n(){e(this,n)},s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["settings-page"]],features:[c._Bn([f,g])],decls:17,vars:0,consts:[[1,"mx-3","mt-2"],[1,"text-center","mt-5"],[1,"container","mt-5"],[1,"row","justify-content-around"],[1,"border","rounded","col-md-4"],[1,"text-center"],[1,"changePassword"]],template:function(e,n){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"goback-button"),c.qZA(),c.TgZ(2,"div",1),c.TgZ(3,"h2"),c._uU(4," Settings "),c.qZA(),c.qZA(),c.TgZ(5,"div",2),c.TgZ(6,"div",3),c.TgZ(7,"span",4),c.TgZ(8,"div",5),c.TgZ(9,"h3"),c._uU(10,"Account"),c.qZA(),c.qZA(),c._UZ(11,"updateProperties-form"),c.qZA(),c.TgZ(12,"span",4),c.TgZ(13,"div",5),c.TgZ(14,"h3"),c._uU(15,"Change password"),c.qZA(),c.qZA(),c._UZ(16,"changePassword-form",6),c.qZA(),c.qZA(),c.qZA())},directives:[h,w,Z],encapsulation:2}),s)}],U=((o=function n(){e(this,n)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({providers:[u],imports:[[i.u5,d.Bz.forChild(y),p.q]]}),o)}}])}();